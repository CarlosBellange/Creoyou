<ion-header class="creoyou-header">

    <ion-navbar>
        <ion-title>Follow</ion-title>

        <ion-buttons end>
            <button (click)="inviteFriend();" class="add_connection" ion-button clear>
                <ion-icon ios="ios-person-add" md="md-person-add"></ion-icon>
            </button>
        </ion-buttons>
    </ion-navbar>


    <ion-segment (ionChange)="segmentChanged($event)" [(ngModel)]="followActiveTab">
        <ion-segment-button value="following">
            I am following
        </ion-segment-button>
        <ion-segment-button value="followers">
            My followers
        </ion-segment-button>
    </ion-segment>


</ion-header>


<ion-content>



    <div [ngSwitch]="followActiveTab">

        <ion-list *ngSwitchCase="'following'">

            <ion-item *ngIf="followingmsg" class="no_result">
                <h3>{{followingmsg}}</h3>
            </ion-item>

            <ion-list class="individual">

                <ion-item *ngFor="let user of following;let idx=index;" padding-horizontal class="search_user search_user_individual">
                    <ion-avatar item-left (click)="OtherProfile(user)">
                        <img *ngIf="user.image!=null && user.image!=''" img-preloader="{{base_url}}uploads/profileImages/resizedImages/{{user.image}}"
                            alt="avatar">
                        <img *ngIf="user.image==null || user.image==''" img-preloader="assets/img/management.png" alt="avatar">

                    </ion-avatar>
                    <ion-item class="searcsh_right">
                        <div (click)="OtherProfile(user)">
                            <p>{{user.fname}} {{user.lname}}</p>
                            <p *ngIf="user.buisness_name">{{user.buisness_name}}</p>

                            <p class="user_deg">
                                {{user.creativeField}}</p>
                            <p class="user_deg" *ngIf="user.address">
                                <ion-icon name="home"></ion-icon>
                                <span *ngIf="user.address">{{user.address}}</span>

                            </p>
                        </div>
                        <div class="user_action" (click)="presentActionSheet(user,1,idx);" item-right>
                            <ion-icon item-right ios="ios-settings" md="md-settings"></ion-icon>
                        </div>
                    </ion-item>
                </ion-item>

            </ion-list>

            <ion-infinite-scroll (ionInfinite)="fetchFollowingData($event)">
                <ion-infinite-scroll-content loadingSpinner="bubbles">
                </ion-infinite-scroll-content>
            </ion-infinite-scroll>

        </ion-list>

        <ion-list *ngSwitchCase="'followers'">

            <ion-item *ngIf="followermsg" class="no_result">
                <h3>{{followermsg}}</h3>
            </ion-item>

            <ion-list class="individual">

                <ion-item *ngFor="let user of followers;let idx=index;" padding-horizontal class="search_user search_user_individual">
                    <ion-avatar item-left (click)="OtherProfile(user)">
                        <img *ngIf="user.image!=null && user.image!=''" img-preloader="{{base_url}}uploads/profileImages/resizedImages/{{user.image}}"
                            alt="avatar">
                        <img *ngIf="user.image==null || user.image==''" img-preloader="assets/img/management.png" alt="avatar">

                    </ion-avatar>
                    <ion-item class="searcsh_right">
                        <div (click)="OtherProfile(user)">
                            <p>{{user.fname}} {{user.lname}}</p>
                            <p *ngIf="user.buisness_name">{{user.buisness_name}}</p>
                            <p class="user_deg">
                                {{user.creativeField}}</p>
                            <p class="user_deg" *ngIf="user.address">
                                <ion-icon name="home"></ion-icon>
                                <span *ngIf="user.address">{{user.address}}</span>

                            </p>
                        </div>
                        <!--  <div class="user_action" (click)="presentActionSheet(user,2,idx);" item-right>
                            <ion-icon item-right ios="ios-settings" md="md-settings"></ion-icon>
                        </div> -->
                    </ion-item>
                </ion-item>
            </ion-list>
            <ion-infinite-scroll (ionInfinite)="fetchFollowerData($event)">
                <ion-infinite-scroll-content loadingSpinner="bubbles">
                </ion-infinite-scroll-content>
            </ion-infinite-scroll>
        </ion-list>
    </div>
</ion-content>